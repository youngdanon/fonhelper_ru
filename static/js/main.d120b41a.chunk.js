(this["webpackJsonpmainapp-ui"]=this["webpackJsonpmainapp-ui"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(16),l=n.n(s),i=(n(25),n(26),n(27),n(3)),r=n(17),o=n(18),d=n(20),j=n(19),u=n(4),v=n.n(u),m=n(0);function b(e){var t=Object(c.useState)([]),n=Object(i.a)(t,2),a=n[0],s=n[1],l=e.eventId,r=e.level;return Object(c.useEffect)((function(){v()({method:"get",url:"/api/event_blocks_info/",params:{event_id:l}}).then((function(e){s(e.data)}));var e=setInterval((function(){v()({method:"get",url:"/api/event_blocks_info/",params:{event_id:l}}).then((function(e){s(e.data)}))}),2500);return function(){return clearInterval(e)}}),[]),Object(m.jsx)("div",{className:"blockLog-table level-"+r,children:a.map((function(e){return Object(m.jsxs)("div",{className:"row log",children:[Object(m.jsx)("div",{className:"log-item score col-2 col-lg-1",children:e.score}),Object(m.jsx)("div",{className:"log-item time col-2 col-lg-1",children:e.time}),Object(m.jsx)("div",{className:"log-item factor col-2 col-lg-1",children:e.factor}),e.param?Object(m.jsx)("div",{className:"log-item param col-2 col-lg-1",children:e.param}):Object(m.jsx)("div",{className:"log-item param col-2 col-lg-1"}),Object(m.jsx)("div",{className:"log-item value col-2 col-lg-1",children:e.value})]})}))})}var h=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var c;return Object(r.a)(this,n),(c=t.call(this,e)).state={open:!1},c}return Object(o.a)(n,[{key:"toggleOpen",value:function(){this.setState({open:!this.state.open})}},{key:"render",value:function(){var e=this.state.open?"opened":"closed",t=this.props.eventToRender;return Object(m.jsxs)("div",{className:"foldable",children:[Object(m.jsxs)("div",{className:"line row",onClick:this.toggleOpen.bind(this),children:[Object(m.jsx)("div",{className:"col-md-12 col-lg-7 event-name level-"+t.level,children:Object(m.jsx)("h6",{children:t.name})}),Object(m.jsx)("div",{className:"col-md-12 col-lg-5 counters",children:t.counters.map((function(e){return Object(m.jsx)("div",{className:"counter",children:Object(m.jsx)("p",{children:e})})}))})]},t.id),this.state.open?Object(m.jsx)("div",{className:e,children:Object(m.jsx)(b,{eventId:t.id,level:t.level})}):""]})}}]),n}(c.Component);function O(e){var t=e.liveEvents;return Object(m.jsx)("div",{className:"table-header",children:Object(m.jsxs)("div",{className:"line row",children:[Object(m.jsx)("div",{className:"col-md-12 col-lg-7 event-name",children:Object(m.jsxs)("h6",{children:["\u0421\u043e\u0431\u044b\u0442\u0438\u0439 \u043d\u0430\u0439\u0434\u0435\u043d\u043e: ",t.length]})}),Object(m.jsx)("div",{className:"col-md-12 col-lg-5 counters",children:["1","X","2","1X","X2","12","\u04241","\u04242","\u0422\u0411","\u0422\u041c","F"].map((function(e){return Object(m.jsx)("div",{className:"counter",children:e})}))})]})})}var p=a.a.createContext();function f(e){var t=e.sportFilters;return Object(m.jsx)("div",{className:"row sport-filters",children:t.map((function(e){e.id,e.name}))})}function x(e){var t=Object(c.useState)([]),n=Object(i.a)(t,2),a=n[0],s=n[1],l=Object(c.useState)([]),r=Object(i.a)(l,2),o=r[0],d=r[1];Object(c.useEffect)((function(){v()({method:"get",url:"api/sports/"}).then((function(e){d(e.data);var t=[];e.data.map((function(e){t.push(e.id)})),s(t)}))}),[]);var j=Object(c.useState)([]),u=Object(i.a)(j,2),b=u[0],x=u[1];return Object(c.useEffect)((function(){v()({method:"get",url:"/api/live_events/",params:{sports:a.join()}}).then((function(e){x(e.data)}));var e=setInterval((function(){v()({method:"get",url:"/api/live_events/",params:{sports:a.join()}}).then((function(e){x(e.data)}))}),2500);return function(){return clearInterval(e)}}),[a]),Object(m.jsxs)("div",{className:"events-table",children:[Object(m.jsx)(p.Provider,{value:{unselectSport:function(e){s(a.filter((function(t){return t!==e})))},selectSport:function(e){s(a.concat(e))}},children:Object(m.jsx)(f,{sportFilters:o})}),Object(m.jsx)(O,{liveEvents:b}),Object(m.jsx)("div",{className:"table-body",children:b.map((function(e){return Object(m.jsx)(h,{eventToRender:e})}))})]})}var g=function(){return Object(m.jsxs)("div",{className:"col-md-12 col-lg-11 wrapper",children:[Object(m.jsx)("h1",{children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f:"}),Object(m.jsx)(x,{})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,l=t.getTTFB;n(e),c(e),a(e),s(e),l(e)}))};l.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(g,{})}),document.getElementById("root")),N()}},[[47,1,2]]]);
//# sourceMappingURL=main.d120b41a.chunk.js.map